I"<h2 id="å‰è¨€">å‰è¨€</h2>

<p>åœ¨å‚ç…§ <a href="https://kubeedge.io/en/docs/setup/keadm/">KubeEdge å®˜æ–¹æ–‡æ¡£</a> è¿›è¡Œéƒ¨ç½²æ—¶ï¼Œå‘ç°æ–‡æ¡£æœ‰å¾ˆå¤šæ²¡æœ‰è¯´æ¸…æ¥šçš„åœ°æ–¹ï¼Œæ¯”å¦‚ <code class="language-plaintext highlighter-rouge">keadm</code> è¿™ä¸ªå·¥å…·æ˜¯æ€ä¹ˆè·å–çš„ï¼ŒåŒæ—¶ä¹Ÿçœç•¥äº†æ‰€æœ‰åŸç”Ÿ
Docker ä¸ Kubernetes çš„éƒ¨ç½²ï¼Œå¯¹æ²¡æœ‰æ¥è§¦è¿‡è¿™äº›ç»„ä»¶çš„å¼€å‘è€…ä¸å¤ªå‹å¥½ï¼Œæ‰€ä»¥å†™äº†è¿™ç¯‡æ¯”è¾ƒè¯¦ç»†çš„æ–‡ç« ï¼Œå¸Œæœ›èƒ½å¸®åŠ©â€œåäººâ€å°‘è¸©ä¸€ç‚¹å‘ã€‚</p>

<h2 id="docker-ç¯å¢ƒé…ç½®">Docker ç¯å¢ƒé…ç½®</h2>

<p>å‚è€ƒ <a href="https://docs.docker.com/engine/install/">Docker å®˜æ–¹æ–‡æ¡£</a> ï¼Œé€‰æ‹©å¯¹åº”çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€‚</p>

<h2 id="kubernetes-ç¯å¢ƒé…ç½®">Kubernetes ç¯å¢ƒé…ç½®</h2>

<h3 id="é…ç½®-kubernetes-æº">é…ç½® Kubernetes æº</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># è½¬åˆ°rootç”¨æˆ·</span>
su
<span class="c"># è¿™é‡Œç”¨çš„æ˜¯é˜¿é‡Œé•œåƒæº</span>
<span class="nb">echo</span> <span class="s2">"deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main"</span> <span class="o">&gt;</span> /etc/apt/source.list.d/kubernetes.list
apt update

<span class="c"># å¦‚æœapt updateæ—¶æŠ¥é”™</span>
<span class="c"># W: GPG error: https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial InRelease: </span>
<span class="c"># The following signatures couldn't be verified because the public key is not available: </span>
<span class="c"># NO_PUBKEY XXXXXXXXXXXXXXXX NO_PUBKEY YYYYYYYYYYYYYYYY</span>
apt <span class="nb">install </span>gpg
gpg <span class="nt">--keyserver</span> keyserver.ubuntu.com <span class="nt">--recv</span> <span class="o">{</span>XXXXXXXXXXXXXXXX, YYYYYYYYYYYYYYYY<span class="o">}</span>
gpg <span class="nt">--export</span> <span class="nt">--armor</span> XXXXXXXXXXXXXXXX | apt-key add -
gpg <span class="nt">--export</span> <span class="nt">--armor</span> YYYYYYYYYYYYYYYY | apt-key add -
apt update
</code></pre></div></div>

<h3 id="å®‰è£…-kubeadm-kubectl-kubelet">å®‰è£… kubeadm, kubectl, kubelet</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt <span class="nb">install </span>kubeadm kubectl kubelet
<span class="c"># æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸï¼Œç‰ˆæœ¬æ˜¯å¦ä¸€è‡´</span>
kubeadm version
kubectl version
kubelet <span class="nt">--version</span>
</code></pre></div></div>

<h3 id="ä½¿ç”¨-kubeadm-åˆå§‹åŒ–-kubernetes">ä½¿ç”¨ kubeadm åˆå§‹åŒ– Kubernetes</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubeadm init <span class="nt">--kubernetes-version</span><span class="o">=</span>&lt;K8S_VERSION&gt; <span class="nt">--apiserver-advertise-address</span><span class="o">=</span>&lt;MASTER IP&gt; <span class="nt">--image-repository</span> registry.aliyuncs.com/google_containers <span class="nt">--service-cidr</span><span class="o">=</span>10.1.0.0/16 <span class="nt">--pod-network-cidr</span><span class="o">=</span>10.244.0.0/16
</code></pre></div></div>

<p>å…¶ä¸­ï¼Œå°† <code class="language-plaintext highlighter-rouge">&lt;MASTER IP&gt;</code> æ›¿æ¢ä¸º master èŠ‚ç‚¹çš„IPåœ°å€ï¼Œkubernetes-version ä¸ä¹‹å‰å®‰è£…çš„ kubeadm ç­‰è½¯ä»¶ç‰ˆæœ¬ä¸€è‡´ã€‚åˆå§‹åŒ–æˆåŠŸä¹‹åä¼šå‡ºç°æ‰§è¡Œ <code class="language-plaintext highlighter-rouge">kubeadm join</code> åŠ å…¥èŠ‚ç‚¹çš„æç¤ºï¼Œè¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦é€šè¿‡è¿™ç§æ–¹å¼åŠ å…¥èŠ‚ç‚¹ã€‚</p>

<p>æ³¨æ„ Kubernetes çš„ Master èŠ‚ç‚¹æœåŠ¡å™¨å¿…é¡»æ‹¥æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šçš„ CPU Coresï¼Œå¦åˆ™æ— æ³•éƒ¨ç½²ã€‚</p>

:ET